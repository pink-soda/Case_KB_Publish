邮件主题：RE: [案例号: CAS-03634-Z9D0M3 ] % |普通事件| Dell | junction软连接数量过多 % 初次响应 CMIT:0001019

====第1封邮件====

发件人：/o=cmit/ou=Exchange Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=user79e88472
发送时间：2021-01-11 13:37:02.687000+00:00
邮件内容:
阙先生 您好, 
根据之前的讨论, 我谨在此阐述我们双方针对这个问题所涉及范围界定：
问题定义:
在C盘运行DIR /S /A:L \ 命令后输出显示大量软链接。
问题范围:
我们将协助您分析处理上述问题，并对定义的问题给予最大的技术支持。
如果能及时解决问题，或问题属于产品设计的行为，或问题涉及到三方，我们将考虑关闭案例。如果存在多个问题，则我们考虑拆分案例进行分析。
接下来，我们将开始合作解决这个问题。如果您对以上的问题范围界定有任何异议，请尽快告知。如果您有其他任何疑问。也欢迎随时与我联系。
问题分析：
*	仔细查看 junction： C:\ProgramData\Application Data 和C:\Users\Default User\AppData\Local\Application Data 指向路径发现，此软链接均分别指向目标为其父级目录，也就是C:\ProgramData 和C:\Users\Default User\AppData\Local。
*	Dir /s 命令为列举指定目录下所有文件以及其子文件夹下全部文件。
综上所述，产生此问题是由于位于子文件夹内软链接指向父级目录，造成DIR /S /A:L \ 迭代查询子目录时的死循环问题（从您提供的输出结果中可见，重复部分路径模式为 Application Data —— 截图请见邮件末尾处）。
实际进入目录内运行 dir /a 命令可以发现C:\ProgramData\Application Data和C:\Users\Default User\AppData\Local下仅有一个junction。测试文件拷贝，也不会造成多个副本问题，文件可以保存至正常路径C:\ProgramData和C:\Users\Default User\AppData\Local。
电子邮箱： baicx@cmgos.com

====第2封邮件====

发件人：/o=cmit/ou=Exchange Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=user79e88472
发送时间：2021-01-13 09:51:01.310000+00:00
邮件内容:
阙先生 您好：
来信是想咨询当前案件进展状况。
如果针对当前案件还有需要我们帮助的地方, 欢迎随时联系我们。
电子邮箱： baicx@cmgos.com

====第3封邮件====

发件人：/o=cmit/ou=Exchange Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=user79e88472
发送时间：2021-01-13 13:40:19.255000+00:00
邮件内容:
阙先生 您好，
信息确认如下：
1.	此脚本运行后，在C盘运行DIR /S /A:L \ 命令后输出显示大量软链接，这种情况是正常的吗？
关于此问题已在上一封邮件中解释清楚，在此总结：dir /s /a:L \ 命令是列举根目录下以及根目录下全部子目录内的全部链接。
由于C:\ProgramData\Application Data 和C:\Users\Default User\AppData\Local\Application Data这两个junction均指向其父文件夹（C:\ProgramData和C:\Users\Default User\AppData\Local），所以在dir /s时出现循环。
但实际文件系统中并没有存在大量/重复软链接，可以通过 dir /a 验证。
2.	这些重复的软连接是否会影响客户的使用或者其他问题？
在本地中针对此类junction进行文件创建，删除，拷贝测试均未发现异常。但是由于没有实际客户环境做测试，所以无法评估其影响。
电子邮箱： baicx@cmgos.com

====第4封邮件====

发件人：/o=cmit/ou=Exchange Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=user79e88472
发送时间：2021-01-13 16:31:34.114000+00:00
邮件内容:
阙先生 您好，
由于拨打您的电话未能接通，所以特发此邮件确认您的问题：
1.  在整个问题分析解决过程中并未建议您更改您邮件中所提及的两个junction（C:\ProgramData\Application Data 和C:\Users\Default User\AppData\Local\Application Data）的路径。
2.  上述两个Junction默认位置就是C:\ProgramData和C:\Users\Default User\AppData\Local目录下。
3.  本地测试针对上述junction路径进行文件创建/删除/拷贝测试均无异常。但是由于没有实际客户环境做测试，所以无法评估其影响。
a)   例如，执行文件拷贝命令 Copy test.txt “c:\ProgramData\Application Data” 后发现test.txt文件被正确拷贝至其指向文件夹c:\ProgramData目录下。同时也可以通过c:\programData\Application Data\test.txt路径访问该文件。
电子邮箱： baicx@cmgos.com

====第5封邮件====

发件人：/o=cmit/ou=Exchange Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=user79e88472
发送时间：2021-01-15 10:52:06.941000+00:00
邮件内容:
阙先生 您好：
来信是想咨询当前案件进展状况。
如果针对当前案件还有需要我们帮助的地方, 欢迎随时联系我们。
电子邮箱： baicx@cmgos.com

====第6封邮件====

发件人：/o=cmit/ou=Exchange Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=user79e88472
发送时间：2021-01-15 16:44:07.306000+00:00
邮件内容:
阙先生 您好，
如之前电话中沟通，经您确认此案例将关闭归档。
感谢您对我们服务的支持。
电子邮箱： baicx@cmgos.com
