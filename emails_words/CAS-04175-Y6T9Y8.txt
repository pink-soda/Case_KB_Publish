邮件主题：回复: [案例号: CAS-04175-Y6T9Y8 ] % Windows Modules Installer服务禁用情况下检查更新提示最新 % 初次响应 CMIT:0001634

====第1封邮件====

发件人：Wei Liang
发送时间：2021-05-14 09:47:02.877000+00:00
邮件内容:
张先生 您好：
根据您的问题描述，我谨在此阐述我们双方针对这个问题所涉及范围界定：
问题定义：
Windows Modules Installer服务禁用情况下检查更新提示使用的是最新版，但实际上是有更新补丁。需要确认：
1、此情况下，系统检查不到最新的更新也没有报错信息。对判断用户是否安装了最新补丁造成困难，这种情况是否正常。能否改进，增加报错或异常提示。
2、此表现是否与标准版win10一致，是否与CMGE特有的UC更新方式有关。
问题范围：
我们将协助您分析处理上述问题，并对定义的问题给予最大的技术支持。
如果能及时解决问题，或问题属于产品设计的行为，或问题涉及到三方，我们将考虑关闭案例。如果存在多个问题，则我们考虑拆分案例进行分析。
接下来，我们将开始合作解决这个问题。如果您对以上的问题范围界定有任何异议，请尽快告知。如果您有其他任何疑问。也欢迎随时与我联系。

====第2封邮件====

发件人：Wei Liang
发送时间：2021-07-08 17:34:12.685000+00:00
邮件内容:
Hi Yachao：
在CMGE系统中，禁用Windows modules Installer服务后，使用“Windows更新”检查更新，无法获取到更新列表，此时，可以看到WindowsUpdate.log日志中有大量的[0x80070422]错误，提示found 0 updates。
针对您的问题：
1、 此情况下，系统检查不到最新的更新也没有报错信息。对判断用户是否安装了最新补丁造成困难，这种情况是否正常。能否改进，增加报错或异常提示。
在“Windows更新”界面，这种表现是正常的，从WindowsUpdate.log日志中看到Agent反馈了Found 0 updates，所以“Windows更新”界面不会显示更新列表。
判断用户是否安装了最新补丁，不是直接在“Windows更新”界面检查是否有新的更新，而是让用户查看当前系统的具体版本号，通过版本号去判断是否安装了最新的补丁。
2、此表现是否与标准版win10一致，是否与CMGE特有的UC更新方式有关。
在禁用Windows modules Installer服务后，标准版win10检查“Windows更新”如下：
标准版win10获取到更新列表后，开始下载时报0x80070422错误。
0x80070422，此报错的名称是E_SERVICE_DISABLED，显示服务被禁用。
CMGE系统与标准版win10出现不同的表现，是因为两者采用的更新源不同，使用WU源和WSUS源的表现不一样。
标准版win10是连接到WU服务器获取更新。
CMGE系统的UC更新方式是连接到CMIT搭建的UC服务器（WSUS）获取更新。
Windows Modules Installer服务是用于 Windows 更新和可选组件的安装、修改和移除。此服务是Windows更新所必需的服务之一，不能禁用此服务，禁用此服务后，无法完成系统更新操作。
判断是否安装了最新补丁，应当通过查看当前系统的具体版本号去判断。

====第3封邮件====

发件人：Wei Liang
发送时间：2021-07-09 16:26:45.831000+00:00
邮件内容:
Hi Yachao：
根据刚才的沟通，我将暂时归档此案例。
工单的归档并不会影响我们为您提供技术支持服务，如您有其他问题，您可以致电技术支持热线4008180055。
后续如果有任何更新的进展或者相关文档更新，我也会及时与您沟通，感谢您对我们的理解和支持！
案例总结：
----
问题定义：
Windows Modules Installer服务禁用情况下检查更新提示使用的是最新版，但实际上是有更新补丁。需要确认：
1、此情况下，系统检查不到最新的更新也没有报错信息。对判断用户是否安装了最新补丁造成困难，这种情况是否正常。能否改进，增加报错或异常提示。
2、此表现是否与标准版win10一致，是否与CMGE特有的UC更新方式有关。
问题总结：
1、 在“Windows更新”界面，这种表现是正常的，从WindowsUpdate.log日志中看到Agent反馈了Found 0 updates，所以“Windows更新”界面不会显示更新列表。
判断用户是否安装了最新补丁，不是直接在“Windows更新”界面检查是否有新的更新，而是让用户查看当前系统的具体版本号，通过版本号去判断是否安装了最新的补丁。
2、CMGE系统与标准版win10的不同表现，是因为两者采用的更新源不同，使用WU源和WSUS源的表现不一样。
标准版win10是连接到WU服务器获取更新。
CMGE系统的UC更新方式是连接到CMIT搭建的UC服务器（WSUS）获取更新。
Windows Modules Installer服务是用于 Windows 更新和可选组件的安装、修改和移除。此服务是Windows更新所必需的服务之一，不能禁用此服务，禁用此服务后，无法完成系统更新操作。
以上，如您后续有任何问题，可随时与我们联系，谢谢。
